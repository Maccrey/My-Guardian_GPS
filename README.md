# GPS Search - 안전한 위치 공유 서비스

## 개요

GPS Search는 학부모와 같은 보호자가 자녀의 위치를 실시간으로 확인할 수 있는 위치 공유 서비스입니다. 사용자 간의 상호 동의 기반으로 작동하여 프라이버시를 존중하면서도 안전을 보장합니다.

## 프로젝트 상태

### ✅ 현재 구현된 기능

#### 사용자 인증 및 계정 관리

- 로그인 및 회원가입 시스템 (이메일/비밀번호 인증)
- 비밀번호 찾기 기능
- 회원 탈퇴 기능

#### UI 및 화면

- 다국어 지원 기능(한국어/영어) - 개인정보 처리방침, 이용약관, 앱 정보 페이지
- 홈 화면 및 기본 UI 구성
- 설정 화면 (테마, 알림, 위치 서비스 등 설정)
- 정보 제공 화면 (개인정보 처리방침, 이용약관, 앱 정보)

#### 긴급 기능

- 긴급 연락처 관리 기능 (기본 제공 연락처 및 사용자 정의 연락처)
- 응급 상황 가이드 화면 기본 구조

#### 기타 기능

- GetX를 활용한 상태 관리 시스템
- 설정 저장 (SharedPreferences)
- 다크 모드 지원
- 지도 표시 기본 UI

### 🚧 구현 중인 기능

- 실제 위치 추적 및 지도 연동 기능
- 위치 공유 요청 및 승인 기능
- SOS 긴급 알림 서비스
- Firebase 연동 및 실시간 데이터베이스 구현
- 푸시 알림 시스템 완성

### 📋 향후 구현 예정 기능

#### 위치 공유 핵심 기능

- Firebase Firestore 연동 (위치 데이터 저장/조회)
- 위치 공유 요청 및 승인 프로세스
- 백그라운드 위치 추적 및 알림 서비스
- Google Maps 통합 및 실시간 위치 표시

#### 안전 기능

- SOS 비상 버튼 완성 (긴급 상황 시 SOS 버튼을 눌러 보호자에게 즉시 알림)
- 자동 긴급 전화 (SOS 활성화 후 30초 내에 취소하지 않으면 119로 자동 연결)
- 응급사항 대처 가이드 콘텐츠 구현

#### 메시지 및 알림 시스템

- 백그라운드 알림: 앱이 백그라운드 상태에서도 메시지 알림 수신
- 실시간 통신: Firebase를 통한 실시간 메시지 송수신
- 귀가 알림 시스템: 집 위치를 등록하고 귀가 버튼을 누르면 보호자에게 알림 전송

## 주요 가이드라인

### ⚠️ 중요 파일 수정 주의사항

다음 파일들은 긴급 연락처 및 응급 상황 핵심 기능을 포함하고 있으므로 수정 시 주의가 필요합니다:

- `lib/views/emergency_contacts_view.dart`
- `lib/services/emergency_contact_service.dart`
- `lib/models/emergency_contact_model.dart`
- `lib/views/emergency_guide_view.dart`

### 🔄 기존 기능 수정 시 확인사항

기존에 구현된 기능을 수정할 때는 다음 사항을 반드시 확인하십시오:

1. **상태 관리 호환성**: GetX 패턴을 따르고 있는지 확인
2. **다국어 지원**: 한국어/영어 전환 기능이 있는 화면은 모든 텍스트가 두 언어를 지원하는지 확인
3. **설정 저장**: 사용자 설정 변경이 포함된 경우 SharedPreferences에 올바르게 저장되는지 확인
4. **UI 일관성**: 새 UI 요소는 기존 디자인 패턴과 일치해야 함
5. **오류 처리**: 적절한 예외 처리 및 사용자 피드백 메커니즘 포함

### 🧪 테스트 요구사항

기능 수정 후 다음 테스트를 수행해야 합니다:

1. **플랫폼 호환성**: iOS 및 Android 모두에서 테스트
2. **다크/라이트 모드**: 두 모드에서 UI가 올바르게 렌더링되는지 확인
3. **네비게이션 흐름**: 화면 간 이동이 올바르게 작동하는지 확인
4. **상태 지속성**: 앱 재시작 후 상태가 올바르게 복원되는지 확인

## 기술 스택

### 프론트엔드

- **Flutter**: UI 프레임워크
- **GetX**: 상태 관리, 의존성 주입, 라우팅
- **SharedPreferences**: 로컬 데이터 저장

### 백엔드 (구현 예정)

- **Firebase**:
  - Firebase Authentication: 사용자 인증
  - Firestore: 데이터베이스
  - Cloud Messaging: 푸시 알림
  - Cloud Functions: 서버리스 함수

### 위치 서비스

- **Google Maps API**: 지도 표시
- **Geolocator**: 위치 정보 취득
- **Flutter Polyline Points**: 경로 표시
- **Geocoding**: 주소 변환

## 파일 구조 및 아키텍처

프로젝트는 클린 아키텍처를 지향하며 다음과 같은 구조로 구성되어 있습니다:

```
lib/
├── main.dart              # 앱 진입점
├── models/                # 데이터 모델
├── services/              # 비즈니스 로직 및 서비스
├── view_models/           # 뷰와 모델 사이의 중간 계층
├── views/                 # UI 화면
│   ├── settings/          # 설정 관련 화면
└── utils/                 # 유틸리티 함수
```

## 설치 및 실행 방법

1. 레포지토리 클론

```bash
git clone <repository-url>
cd gps_search
```

2. 의존성 패키지 설치

```bash
flutter pub get
```

3. 앱 실행

```bash
flutter run
```

## 개발자 참고사항

### 공통 이슈 해결

- **플러그인 충돌**: 새 플러그인 추가 후 빌드 오류 발생 시

  ```bash
  flutter clean
  flutter pub get
  flutter run
  ```

- **권한 관련 문제**:
  - 위치, 알림 등의 권한은 각 플랫폼별 설정 필요
  - iOS: `Info.plist`, Android: `AndroidManifest.xml`

### AI 개발 가이드라인

AI 개발자가 코드를 수정할 때 고려해야 할 사항:

1. **기존 패턴 준수**: 기존 코드의 구조와 명명 규칙을 따를 것
2. **GetX 패턴 유지**: 상태 관리는 GetX 방식을 유지할 것
3. **다국어 지원**: 사용자 인터페이스 텍스트는 한국어/영어 모두 제공할 것
4. **성능 고려**: 특히 위치 서비스와 같은 배터리 소모 기능 최적화
5. **보안 우선**: 개인정보 및 위치 데이터는 안전하게 처리할 것

## 권한 요구사항

- 위치 정보 접근 권한
- 인터넷 접속 권한
- 백그라운드 처리 권한
- 푸시 알림 권한
- 전화 걸기 권한 (SOS 기능용)

## 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 개발자 정보

개발자 연락처: m01071630214@gmail.com
© 2024 GPS Search. 모든 권리 보유.
